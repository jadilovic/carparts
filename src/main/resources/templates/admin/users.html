<!DOCTYPE html>
<html lang="en" xmlns="http://www.w3.org/1999/xhtml"
 xmlns:th="http://www.thymeleaf.org">
<head>
 	<title>Logged In Users</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
     <link rel="stylesheet" th:href="@{/css/bootstrap.min.css}">
</head>
<body>

<div th:replace="fragments/header :: header"/></div>

<!--Display of currently logged users and after deleting logged users, UserController lines 404, 419, 431 -->
  <div class="container table-responsive" align="center">
  
  <div th:if="${message}" class="p-2" align="center">
      <h5 th:text="${message}" th:class="${'alert ' + alertClass}"></h5>
  </div>
    
    <div th:unless="${message}">
     	<div class="p-2" align="center">
   			<h5>Currently logged in users</h5>
 		</div>
 		
 		<div class="p-2" align="center">
 		   <a th:href="@{/admin/deleteLoggedUsers}" class="btn btn-danger btn-block" role="button" aria-pressed="true">Log Out All Users</a>
 		</div>
 		
 <table class="table table-striped">
  <thead>
    <tr>
      <th scope="col">#</th>
      <th scope="col">User Email</th>
      <th scope="col">Time of Login</th>
      <th scope="col">Action</th>
    </tr>
  </thead>
  <tbody>
    <tr th:each="user, iStat : ${users}">
      <th scope="row" th:text="${iStat.count}">Count</th>
      <td th:text="${user.username}">User Email</td>
      <td th:text="${user.lastUsed}">Time of login</td>
      <td>
          <a class="btn btn-primary" th:href="@{'/admin/deleteLoggedUser/' + ${user.series}}">Log Out User</a>
	  </td>
    </tr>
  </tbody>
</table>
 </div>

</div>
    
 <div th:replace="fragments/footer :: footer"/></div>
 
</body>
</html>